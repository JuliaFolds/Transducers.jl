<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Transducers.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Transducers.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href>Home</a><ul class="internal"><li><a class="toctext" href="#Examples-1">Examples</a></li><li><a class="toctext" href="#Links-1">Links</a></li></ul></li><li><a class="toctext" href="manual/">Manual</a></li><li><a class="toctext" href="interface/">Interface</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Home</a></li></ul><a class="edit-page" href="https://github.com/tkf/Transducers.jl/blob/master/docs/src/index.md#L"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Home</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Transducers-for-Julia-1" href="#Transducers-for-Julia-1">Transducers for Julia</a></h1><div class="admonition warning"><div class="admonition-title">Warning</div><div class="admonition-text"><p>This is a work in progress!</p></div></div><p><a href="https://clojure.org/reference/transducers">Transducers</a> are composable transformations which can be implemented very efficiently and useful in both compute- and I/O-bound contexts.  The interface used by transducers can naturally describe a wide range of processes that can be formalized as a succession of steps.  Furthermore, transducers can be defined without specifying the details of the input and output (collections, streams, channels, etc.) and therefore achieves a full reusability.  Transducers are introduced by Rich Hickey, the creator of the Clojure language. <a href="https://www.youtube.com/watch?v=6mTbuzafcII">His Strange Look talk</a> is a great introduction to the idea of transducers.</p><p>Transducers.jl is an implementation of the transducer framework in Julia.  Aiming to satisfy high-performance needs of Julia users, Transducers.jl uses a formulation that is <em>pure</em> <a href="#footnote-pure">[pure]</a> and aiding type-stability.</p><div class="footnote" id="footnote-pure"><a href="#footnote-pure"><strong>[pure]</strong></a><p>...although not pure in the strong sense as <code>Base.@pure</code>.</p></div><h2><a class="nav-anchor" id="Examples-1" href="#Examples-1">Examples</a></h2><p>If you are familiar with <a href="https://en.wikipedia.org/wiki/Iterator">iterators</a> (see also <a href="https://docs.julialang.org/en/v1/base/iterators/"><code>Base.Iterators</code></a> and <a href="https://github.com/JuliaCollections/IterTools.jl">IterTools.jl</a>) it would look very familiar to you:</p><pre><code class="language-julia-repl">julia&gt; using Transducers

julia&gt; collect(Map(x -&gt; 2x), 1:3)  # double each element
3-element Array{Int64,1}:
 2
 4
 6

julia&gt; collect(Filter(iseven), 1:6)  # collect only evens
3-element Array{Int64,1}:
 2
 4
 6

julia&gt; collect(MapCat(x -&gt; 1:x), 1:3)  # concatenate mapped results
6-element Array{Int64,1}:
 1
 1
 2
 1
 2
 3
</code></pre><p>Transducers can be composed (without, unlike iterators, referring to the input):</p><pre><code class="language-julia-repl">julia&gt; xf = Filter(iseven) |&gt; Map(x -&gt; 2x)
       collect(xf, 1:6)
3-element Array{Int64,1}:
  4
  8
 12</code></pre><p>An efficient way to use transducers is combination with <a href="manual/#Base.mapfoldl"><code>mapfoldl</code></a>.  This computation is done without creating any intermediate lazy object and compiles to a single loop:</p><pre><code class="language-julia-repl">julia&gt; mapfoldl(xf, +, 0, 1:6)
24</code></pre><p><code>mapfoldl</code> (or <code>foldl</code>) illustrates the difference between iterators and transducers.  Implementation of the same computation in iterator would be:</p><pre><code class="language-julia">f(x) = 2x
mapfoldl(f, +, 0, filter(iseven, input))
foldl(+, map(f, filter(iseven, input)))  # equivalent
         _____________________________
         composition at input</code></pre><p>Compare it to:</p><pre><code class="language-julia">mapfoldl(Filter(iseven) |&gt; Map(f), +, 0, input)
         ________________________
         composition at computation</code></pre><h2><a class="nav-anchor" id="Links-1" href="#Links-1">Links</a></h2><ul><li><a href="https://www.youtube.com/watch?v=6mTbuzafcII">&quot;Transducers&quot; by Rich Hickey - YouTube</a></li><li><a href="https://www.youtube.com/watch?v=4KqUvG8HPYo">Rich Hickey - Inside Transducers - YouTube</a></li><li><a href="https://www.youtube.com/watch?v=vohGJjGxtJQ">CppCon 2015: Juan Pedro Bolívar Puente “Transducers: from Clojure to C++&quot; - YouTube</a></li></ul><footer><hr/><a class="next" href="manual/"><span class="direction">Next</span><span class="title">Manual</span></a></footer></article></body></html>
